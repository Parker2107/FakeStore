<!DOCTYPE html>
<html lang="en">
    <head>
        <meta name="viewport" content="initial-scale=1, width=device-width">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
        <link href="styles.css" rel="stylesheet">
        <title>FakeStore</title>
    </head>
    <body>
        <header id="blah">
            <div>
                <span class="firstl">F</span><span>a</span><span>k</span><span>e</span><span> </span><span class="firstl">S</span><span>t</span><span>o</span><span>r</span><span id="lastname">e</span>
                <input type="text" id="searchbar" onkeyup="search_products()" placeholder="Search All Products...">
            </div> 
        </header>
        <main class="container-fluid py-5 text-center">
            <body>
                <button id="clickme" type="button">
                    Click me!
                </button>
                <button id="hideme" type="button">
                    Hide me!
                </button>
                <br>
                <div id="products">
        
                </div>
                <script>
                    // Add event listener for button click
                    document.getElementById("clickme").addEventListener("click", allproducts);
                    document.getElementById("hideme").addEventListener("click",myFunction);
        
                    // Fetch products from FakeStoreAPI
                    function allproducts() 
                    {
                        fetch('https://fakestoreapi.com/products')
                        .then(res => res.json())
                        .then(json => 
                            {
                            console.log(json);
                            displayProducts(json);
                            })
                        .catch(err => console.error("Error fetching data: ", err));
                    }
                    function displayProducts(allprod)
                    {
                        const products=document.getElementById("products");
                        products.innerHTML= '';
                        allprod.forEach(product => {
                            const productDiv = document.createElement("div");
                            productDiv.className = "card mb-2";
                            productDiv.innerHTML = `
                                <div class="card-body">
                                    <h5 class="card-title">${product.title}</h5>
                                    <p class="card-text">${product.description}</p>
                                    <p class="card-text"><strong>Price:</strong> $${product.price}</p>
                                </div>
                            `;
                            products.appendChild(productDiv);
                        });
                    }
                    function myFunction() 
                    {
                        var x = document.getElementsByClassName("card mb-2");
                        for (var i=0; i<x.length; i++)
                        {
                            if (x[i].style.display === "none")
                            {
                            x[i].style.display = "block";
                            }
                            else
                            {
                            x[i].style.display = "none";
                            }
                        }
                    }
                </script>
            </body>
        </main>
    </body>
</html>
